# RUN: %pyxc < %s > %t 2>&1
# RUN: grep -q "Error (Line 1," %t
# RUN: grep -q "Expected ':' in function definition" %t
# RUN: grep -q "def foo(x) return x" %t

# Test that a tok_eol error (missing colon) reports the correct line number and
# prints the right source line in the context. GetDiagnosticAnchorLoc redirects
# tok_eol to the line that just ended, so the caret appears on that line rather
# than on the (empty) next line.
def foo(x) return x
