# RUN: %pyxc < %s > %t 2>&1
# RUN: grep -q "Error (Line 2," %t
# RUN: grep -q "Expected function name in prototype" %t
# RUN: grep -q "def 1" %t

# Test that CurLoc is correct after a comment line. The comment on line 1
# triggers the '#' branch in gettok, which re-snapshots CurLoc before returning
# tok_eol. The error on line 2 must report Line 2, not Line 1, and must show
# the "def 1" source line -- not the comment line.
# this is a comment
def 1
