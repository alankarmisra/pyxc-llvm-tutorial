# RUN: %pyxc < %s > %t 2>&1
# RUN: grep -q "Parsed a function definition" %t
# RUN: grep -q "fmul double %x, 2.000000e+00" %t

# Optimisation baseline — x*2 with a non-constant operand.
# The pipeline (InstCombine, Reassociate, GVN, SimplifyCFG) does not replace
# fmul-by-2 with fadd in this configuration — the fmul is preserved as-is.
# This test documents what the actual IR looks like so that if a future pass
# change does introduce strength reduction, the test will catch it.
def double_it(x): return x * 2
